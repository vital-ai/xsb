<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<link type="text/css" rel="stylesheet" href="xsb.css">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
<title>Release Notes</title>
</head>

<body>
<div class="xsb-menu">
<p>
<a href="index.html" >Home</a>
<a href="research.html" >Research</a>
<a href="xsbsystem.html" >XSB System</a>
<a href="contactus.html" >Contact Us</a>
</p>
</div>

<h1>ChangeLog</h1>

<h2> Version 4.0 (TaB)</h2> 
<ul>
<li><b> Enhancements </b></li>
<ul style="list-style-type:disc;"> 
<li><it>The XSB command-line interpreter now works again with OsX Catalina.</it></li>  
<li><it>Incremental tabling</it> has been improved and extended in
  several ways.
  <ul>
    <li>Incremental tabling now works with subsumptive tabling.</li>
    <li>Inspection of the dependency graph for incremental tabling
      has been improved, including support for inspecting leaf nodes, and
      new predicates <tt>summarize_idg/0</tt> and <tt>get_idg_info/2</tt>.</li>
    <li>Incremental tabling now also works when XSB is called from
      C, and a few remaining bugs in incremental tabling have been fixed.</li>
  </ul>
</li>
<li><it>Subsumptive tabling has also been improved.</it> In addition to supporting
  incremental tabling: 
  <ul>
    <li>The method of declaring indexing for subsumptive tables is now
      via <tt>table ... as index(N)</tt> and has clearer semantics than previously.</li>
    <li>Faster computation on large, incomplete subsumptive tables.</li>
  </ul>
</li>
<li><tt>proc_files</tt>, the I/O library for csv, tsv and other "dsv" 
  formats, has been redesigned.
  <ul>
    <li> It now fully handles input and output of dsv files in UTF-8. </li>
  <li> It now supports user-defined types, and has the option of
    throwing errors instead of warning messages.
  </li></ul>
<li> <it>interned table terms</it> have been improved robustness,
  efficiency, and scalability including
  <ul>
    <li>Better integration of interned terms with garbage
      collection.</li>
    <li> The predicate <tt>intern_termhash/2</tt> was added which
      interns a ground term and returns a perfect hash number for the term.</li>
    <li> Fixes for interning large arity terms. </li>
  </ul></li>
<li><tt>prolog_db</tt>, a library, based on tries, for backtrackable
manipulation of sets and internal datastores was improved in various
ways.
  <ul>
    <li> Set operations among Prolog databases</li>
    <li> Storage of interned as well as regular terms</li>
    <li> A new implementation of index trees.</li>
    <li> New predicates for cross product, join, reindex, and project
      that work directly on trie databases.</li>
    <li> The functionality of <tt>retractall_in_db</tt> was improved
      and the predicates made more efficient.</li>
  </ul></li>
<li><it>PITA</it>, XSB's package for fuzzy and probabilistic reasoning
has been updated in several ways..  XSB can now be easily configured
with PITA on Linux and the Mac, along with Windows under Cygwin.
Also, PITA has been extended to 64-bits.</li>
<li><it>I/O improvements</it>
  <ul>
    <li> Unicode support was improved:
      <ul>
	<li> The new <tt>encoding</tt> directive and compiler option support
	  compilation of files according to different character encodings,
	  including mutiple encodings within a given file.  (The default is
	  UTF-8 for Linux and OsX, and CP-1252 for Windows.)</li>
	<li> XSB is also now better at reading unicode hexidecimal constants
	  within text. These improvements are reflected in various conversion
	  routines between integers and character/code lists.</li>
	<li> XSB&#39s ODBC interface has improved Unicode handling resembling
	  other I/O functionality.</li>
      </ul>
    <li> <it> Floating point display precision</it> is now allowed
      through both a Prolog flag and through an option
      of <tt>write_term/[1,2]</tt>. Now <tt>write_term/[1,2]</tt> also
      has an option to write out integers in octal and
      hexidecimal.  </li>
    <li> Improvements to <tt>read_term/[1,2]</tt>
      <ul>
	<li> Double quotes can now be used to read in atoms
	  via <tt>read_term/[1,2]</tt> and a global flag.  This non-ISO
	  option can be useful for reading files in CSV and other
	  formats.</li>
	<li><tt>read_term</tt> also has an option to read variables as
	  atoms.  This option can be useful for reading Prolog-like
	  terms from other systems (e.g., Python).</li>
    </ul>
    <li> Various fixes to make <tt>write_canonical/[1,2]</tt> more
      consistent with other forms of write. </li>
  </ul></li>
<li>An interface from XSB to Minizinc was developed by Michael Kifer.
This interface allows XSB to use Minizinc to solve complex sets of
combinatorial constraints, as used in temporal, spatial and many other
types of reasoning.  </li>
<li> Improved support for pyxsb.py
(<tt>https://github.com/gooofy/py-xsb</tt>), a package for Python to
call XSB written by Guenter Bartsch.</li>
<li> <it>Meta-information</it> about code and execution state was
restructured and expanded.
  <ul style="list-style-type:circle;"> 
    <li><tt>predicate_property/2</tt> was restructured to indicate a
      predicate's tabling properties and loading/compilation status
      more accurately and consistenly.</li>
    <li> Introduced <tt>set_predicate_property/2</tt> to allow a consistent
      means to alter the tabling properties of predicates.</li>
    <li>The new predicates <tt>subgoal_property/2</tt>
      and <tt>variant_subgoal_property/2</tt> allow inspection of the state
      of various tabled subgoals, including the number of calls to a
      subgoal, the number of its answers, its evaluation state and whether
      it is incremental.</li>  
    </ul></li>
<li> Better support for web interfaces
  <ul>
    <tt>curl</tt> the XSBs package for I/O over the web has been improved.
    <ul>
      <li> There is better handling of URLs and their properties, along
	with better handling of base64 data.</li>
      <li> <tt>post_data/4</tt> was added, which returns the server
	response and warnings.</li>
    </ul>
    <li>XSB's initialization procedures were changed to make XSB easier to
      use as a servlet.</li>
  </ul></li>
<li><it>Dynamic Loading</it> (via <tt>load_dyn(c)</tt>) has improved
speed and expanded functionality.
  <ul>
    <li>The loading of fully indexed knowledge graphs has been
      observed at nearly 200,000 edges per second on a server from 2019.</li>
    <li> It is now possible to dynamically load into a specified module, and
      to specify which character encoding to use.</li>
    <li>Increased the maximum number of indexes allowed on a dynamic
      predicate</li>
    <li> The canonical reader now can abort after a threshold number
    of non-canonical facts are read.  This number is settable by a
    Prolog flag.</li>
    <li> Various bug fixes have been made for handling query directives, to allow explicit
      module qualifications, and to properly handle multifile declarations.</li>
    <li> The predicate <tt>load_dyn_gen/2</tt> provides a unified
    options-oriented interface to all dynamic loading functionality.</li>
  </ul></li>
<li>Speed Improvements
  <ul>
    <li> Various changes in tabling to avoid unnecessary quadratic
    behavior in certain cases </li>
    <li> XSB&#39s compiler was updated to allow more efficient calls
      to builtins, which can be helpful if builtins are called within a
      tight loop.</li>
    <li>Improvements were made that allow programs that use a large
      number of atoms to run much faster</li>
    <li>Compilation improvements to speed predicates that include
    larger-arity Prolog functions.</li>
  </ul></li>
</ul>

<li><b> Smaller Improvements and Bug Fixes </b></li>
<ul>
<li>Various tabling improvements and fixes.</li>
  <ul>
  <li>Answer subsumption now works with dynamic predicates, with
    attributed variables, and when called within a module.</li>
  <li>Various other
    bugs in the answer completion tabling operation were fixed,
    including better handling of a mixture of defined and undefined
    answers.</li>
  <li>The completion/weak completion semantics for tabling can now be
    specified on a per-predicate basis, using a tabling option.</li>
  <li> XSB now supports a predicate, <tt>not3/1</tt> which properly
    handles negation of Prolog predicates within a 3-valued
    semantics.</li>
    <li> The <tt>custom</tt> option for tripwires allows a user to specify
      the action to take when a tripwire is hit.</li>
    <li>Added a table abolish hook that allows cleaning up auxiliary
    tables for <tt>not_exists/1</tt> and tables created for <tt> table
    ... as index...</tt>
    <li>Added the declaration <tt>table ... as maxans(N)</tt> which allows
    a predicate to be tabled using answer set cardinality restraint.</li>
    <li>Made not_exists do the right thing with incremental, tabled, and non-tables.</li>
    <li>Fixed bug with declaring tabled predicates as dynamic.</li>
    <li>Fixed a bug so that tabling data structures are properly reclaimed
    after a floundering <tt>tnot/1</tt></li>
    <li>When using call or answer abstraction, a change was made to
    postpone abstraction when the limit is hit during traversal of an
      attributed variable, rather than aborting as was done previously.</li>
  </ul>    
  <li>Added <tt>xsb_intercept_assert_hook</tt> and
    <tt>xsb_intercept_retractall_hook</tt> to allow clause transformations
    on asserts and retracts.</li>
  <li>Better overall handling of explicit module qualification in
    builtins (i.e., calls of the
    form <tt>Mod:Goal</tt>).  <tt>listing/1</tt> now displays dynamic
    predicates within a module, all modules that gontain a given
    dynamic predicate, and so on.  clause/2</tt> now handles an input
    of an explicit module as well as a predicate.</li>
  <li>Various improvements in the <tt>multifile</tt> directive,
    including integrating <tt>multifile</tt> with the unknown predicate
    check and <tt>check_index/1</tt>.</li>
  <li>Fixed a transient and obscure bug with cycle detection for terms,
    along with bug fix for <tt>ground_and_cyclic/1</tt>.
    Also <tt>writeq/1</tt> now properly writes out cyclic terms.</li>
  <li>Added <tt>str_repl/2</tt> which replaces strings inside a
  string. Added <tt>split_atom/3</tt> which works similarly to split
  methods in Python and Java.</li>
  <li>A priority queue implementation was added to the <tt>assoc</tt>
  library.</li>
  <li>Added <tt>sleep_ms/1</tt> to sleep for milliseconds rather than
    seconds.</li>
  <li>Fixed bug in returning errors to C when C calls XSB.</li>
  <li>Fixed bug in <tt>setof/3</tt> and <tt>bagof/3</tt> in handling of
    attributed variables.</li>
  <li>Handling of escapes within atoms is now more ISO-compliant.</li>
  <li>Fixed an obscure bug in heap expansion that occurred
    with <tt>atom_codes/2</tt> and similar predicates.</li>
  <li> More efficient garbage collection of retracted and abolished
    dynamic clauses.</li>
  <li> <tt>dbdrivers</tt>: fix for possible infinite loop in
  the <tt>dbdrivers</tt> package; better handling of single quotes in
  fields.
  <li>Various small improvements to XSB's code profiling functionality.</li>
<li> Addition of jaccard similarity/distance to ordset library.</li>
</ul>
</ul>

<h2> Version 3.8 (Three-Buck Chuck)</h2> 

Many of the changes for Version 3.8 of XSB have been motivated by the
needs of our commercial and research users.  To this end, XSB contains
several new libraries as well as a great number of changes to improve
robustness for various XSB features.

<ul>
<li><b> Enhancements </b></li>
<ul>
<li> XSB now supports <i>parameterized modules</i> which support a type
of higher-order programming by allowing modules to be parameterized by other modules.
This allows a module <i>m</i> to determine at run time which other modules
should be used to load predicates in <i>m</i>.
This extension also allows non-modules (defining predicates in usermod) to be loaded by
the dynamic module loader</li>
<li>The view consistency feature of incremental tabling has been made
significantly more robust, and memory usage for incremental tables is
now significantly more efficient.</li>
<li>The <tt>persistant tables</tt> package allows tables to be written to
files so that they can be saved between sessions, or communicated
between different XSB processes. </li>
<li>The <tt>viewsys</tt> package provides a structured approach to transforming
data (stored in files or database tables) that XSB or other programs can use.</li>
<li>Situations where a compilation error gave rise to a corrupt
object file are now fixed.  <tt>call/1</tt> has been
made more efficient in static code.</li>
<li> <tt>load_dyn/[1,2]</tt> has been made more robust, and expanded so
that files are handled in a manner more consistent with compiled
code. For instance, <tt>load_dyn(c)</tt> now loads modules and supports
analysis features like usage inference</li>
<li> Terms now have a maximum arity of 2^16 when used in tabling,
asserted in dynamic code, or created as structures.  Terms in compiled
files have the old limit of 2^8 arguments.</li>
<li> The <tt>range tree</tt> library allows data to be indexed via numeric or
other ranges.</li>
</ul>


<li><b> Smaller Bug fixes and Minor Changes </b></li>
<ul>
<li> File handling is now more consistent among XSB's predicates,
among the forms of names, and among platforms.</li>
<li>Numerous changes have been made to XSB's <tt>statistics/[0,2]</tt> to
present information about tabled compuations in a clear, consistent,
and thorough manner.</li>
<li>Character sets are now easier to set and change at a stream level,
and handling of general character codes is more robust.</li>
<li>XSB now responds consistently to command-line
interrupts (e.g., ctrl-c, ctrl-d) across different platforms.</li>
<li> Various bug fixes and improvements to
the <tt>sgml</tt>, <tt>xpath</tt>, and <tt>rdf</tt> packages.</li>
<li> Answer set cardinality has been added to XSB's set of tripwires,
which support dynamic debugging of heavily tabled computations.</li>
<li> A new predicate, <tt>truth_value/2</tt> that indicates the truth
value of a given atom in the well-founded semantics whenever it is
sensible to do so within the operational semantics of XSB.</li>
<li> XSB's C interface has been expanded to allow dynamic registration
of C functions as XSB predicates, and to allow direct creation of a
term in a given module.</li>
<li> <tt>predicate_property/2</tt> now gives more reliable and clearer
information for undefined or non-loaded predicates.</li>
<li> The <tt>log_ith</tt> functionality has been expanded so that it
can simulate open-tailed lists, though with a lower complexity.</li>
<li> Forest logging has been expanded to support information specific
to incremental tabling.</li>
<li> Improvements in unification of floating point numbers.</li>
<li> Small fixes for interned tables when used with <tt>findall</tt>.</li>
</ul>

<h2> Version 3.7 (Clan MacGregor)</h2> 

<ul>
<li><b> Enhancements </b></li>
<ul>
<li> A derivation may be suspended and inspected via its table state,
its subgoal dependency graph, its incremental dependency graph, and
its residual dependency graph.  The graph views may also be abstracted
using homomorphisms.  Each of these views displays aspects of a
computation that can be useful for different purposes.</li>
<li> A derivation may be suspended using
dynamically-modifiable <i>tripwires</i> which are activiated when a
derivation takes more time or space than expected or allowed. Tripwire
conditions include derivation time, amount of memory used, size of
goal, size of answer, number of non-completed tabled calls, and
recursive component size.  Tripwires are quite general, and can also
be used to apply abstraction to a subgoal or answer, or simply to
throw an error.</li>
<li> During a debugging session a derivation can also be suspended
via <tt>ctrl-c</tt>, and then inspected in the same manner.</li>
<li> XSB's handling of break levels has been extended to safely
support inspection of suspended tabled derivations.</li>
</ul></li>
<li> XSB's computation of the well-founded semantics (WFS) now
automatically performs the answer completion operation, which makes
XSB's resolution method complete for WFS.  (This is currently
available in the single-threaded engine only.)</li>
<li> Answer Subsumption now works correctly and efficiently with
undefined answers.  (Also, miscellaneous bugs in declarations for
answer subsumption have been fixed.)  </li>
<li> There is now better support for 64-bit Cygwin as well as better
support for XSB's packages under Windows.</li>
<li> Performance improvements for tabling with call subsumption are
available using a new <tt>table_index</tt> directive to specify
alternate indexing of tables.</li>
<li> XSB's <tt>timed_call/1</tt> is now more powerful and supports a
mixture of co-routining capabilities.  These capabilities can be
modified or cancelled during the course of inspecting a suspended
derivation.</li>
<li> A new predicate, <tt>crypto_hash/3</tt> encrypts atoms according
to the <tt>md5</tt> or <tt>ssh1</tt> algorithms.
</ul>

<li><b> Bug fixes and minor changes </b></li>
<ul>
<li>Numerous fixes and enhancements for abstracting tabled subgoals
and answers as well as for checking their size.  
<ul><li>Enhancements were also made to tabling routines to handle very
large subgoal or answer terms.  Term sizes in the tens of thousands
with many thousands of variables are now supported for
subgoals, and sizes in the hundred thousands with tens of thousands of
variables are supported for answers.</li>
<li>  Such sizes may indicate errors in many applications, so
these sizes may be restricted via tripwires.</li></ul></li>
<li> Various fixes for obscure but important errors in heap garbage
collection, in <tt>get_residual/2</tt>; in repeatedly asserting and
retracting the same dynamic clauses; and in compiler register
allocation.  In addition, various memrory problems uncovered by Valgrind were fixed.</li>
<li> <tt>statistics/0</tt> now displays better consistency for various
categories of memory usage. For <tt>statistics/2</tt>,
a <tt>table_ops</tt> key has been added, and <tt>statistics/2</tt> now
includes an SCC count for the <tt>incomplete_tables</tt> key.</li>
<li> Various packages have been made more robust.  ODBC now closes
cursors on abort.  Socket handling has been improved in several ways,
such as when XSB catches signals.</li>
<li> Minor improvements to forest logging including stream flushing
and better designation of incomplete tables closed due to a
throw.</li>
<li> Structures for tabled subgoals now require less space.</li> 
 <li> Handling has been improved for terms of the form functor() by
system predicates.</li>
</ul>
</ul>



<h2> Version 3.6 (Gazpatcho)</h2> 

<ul>
<li><b> Enhancements </b></li>
<ul>
<li>
A number of changes have been made to make XSB more ISO-compliant.
<ul>
<li> Error balls thrown by XSB are now of the ISO-compliant
form <tt>error/2</tt> rather than <tt>error/3</tt> as previously.</li>
<li> The action of <tt>write/1</tt> has been fixed so various
operators are now displayed in a more ISO-compliant manner.  Reading
and writing escape characters is also more ISO-compliant now.</li>
<li> The conditions under which arithmetic errors are thrown and the
types of errors that are thrown are now much more ISO-compliant.
Similar changes were made to errors thrown by file handling, 
I/O-related predicates and other classes of predicates.</li>
<li>When possible, XSB's table error balls now represent the actual
goal that caused the error, rather than simply the functor and arity
of the goal. </li>
</ul>
</li>
<li>
A number of improvements have been made to incremental tabling, with
the result that lazy incremental tabling is now the only incremental
tabling strategy supported in XSB.  Lazy incremental tabling fully
replaces eager incremental tabling, as the lazy version is both more
robust and more efficient.  In addition
<ul>
<li>A new predicate <tt>abolish_nonincremental_tables/0</tt> safely
abolishes all non-incremental tables, even when incremental and
non-incremental tables may depend on one another. </li>
<li> Other new predicates have been added to allow introspection data
structures and state related to incremental tabling.
<tt>incr_is_invalid/1</tt> allows inspection of the state of an
incremental subgoal, and <tt>incr_invalid_subgoals/1</tt> returns a
list of incrementally tabled subgoals that are currently invalid.  A
new option for <tt>statistics/2</tt> returns the number of subgoals
and dependency edges in the incremental dependency graph.</li>
</ul>
</li>
<li>An addition has been made to forest logging to allow logging to be
turned off on a per-predicate basis.</li>
<li>The predicate <tt>copy_term_nat/2</tt> has been added, which acts
as <tt>copy_term/2</tt> except that it does not copy the attributes of
variables.  (This predicate acts as a similar predicate in SWI Prolog.)
</li>
<li>The library <tt>storage.P</tt> is now based on lazy incremental
tabling</li>
</ul>
<li><b> Bug fixes and minor changes </b></li>
<ul>
<li>Numerous bugs were fixed for table abolishes, particularly for the
following.  Table garbage collection, which sometimes core dumped when
reclaiming space, has been made more robust.  Transitive table
abolishes have also been made much more robust.
</li>
<li>Numerous obscure bugs were fixed in incremental tabling,
particularly when incremental tabling is used with table abolishes
(and when exceptions are thrown over incremental tabling).
Incremental tabling was also made more efficient in certain
cases. <tt>abolish_all_tables/0</tt> now properly reclaims all
incremental tabling data structures.  Table garbage collection also
now properly reclaims incremental table space.</li>
<li>The predicate <tt>term_variables/2</tt> is now implemented in C.
<li>Two new predicates have been
added, <tt>abolish_table_subgoals/[1,2]</tt>
and <tt>abolish_table_subgoal/[1,2]</tt>, which differ in whether they
abolish all tabled subgoals that unify with an input term, or only
abolish a tabled subgoal that is a variant of the input
term.  <tt>abolish_table_subgoals/[1,2]</tt> acts in exactly the same
manner as <tt>abolish_table_call/[1,2]</tt>, but is the preferred
name.
</ul>
</ul>


<h2> Version 3.5 (Maotai)</h2> 

<h3> Version 3.5</h3> 
<ul>
<li><b> Enhancements </b></li>
<ul>
<li> XSB's character-level I/O has been significantly rewritten and
expanded.  It now supports as encodings UTF-8, CP-1252, and LATIN-1;
with UTF-8 as the default encoding on UNIX-style systems, and CP-1252
as the default encoding on Windows systems.  Various ISO predicates
regarding encodings are also supported such
as <tt>character_set/1</tt>.  Finally, other character-based I/O
predicates such as <tt>get_XXX</tt>, <tt>peek_XXX</tt>,
and <tt>put_XXX</tt> have been thoroughly rewritten and should be both
ISO-compliant and more efficient.
<li> XSB now has an alternative means of tabling ground structures
called "hash-consing" or "interning".  This feature can greatly
improve performance when tabling is used for structural
recursion.</li>
<li> XSB now cleanly compiles under the latest version of Mac OS X
which uses LLVM's clang compiler.</li>
<li> XSB's incremental tabling now fully supports view consistency for
tables that have been updated.  Incremental tabling has also been
extended to allow abstraction of dynamic predicates in the call graph.
Finally, a number of bugs in incremental tabling have been fixed.</li>
<li>XSB's compiler has been extended so that XSB can be used as a
preprocessor extending GPP</li>
<li>Various predicates have been added: a platform-independent
built-in predicate <tt>epoch_seconds/1</tt>,
and <tt>module_of_term/2.</tt>  XSB's <tt>concat_atom/2</tt>, a
generalization of the ISO <tt>atom_concat/2</tt> now also can be used
to split atoms.</li>
<li>A new library, <tt>prolog_db</tt> supports efficient meta-programming.</li>
<li> Radial restraint is now available when XSB is embedded into a process.</li>
</ul>
<li><b> Bug fixes </b></li>
<ul>
<li> XSB now handles file paths that include spaces on Unix.</li>
<li> Various fixes have made answer subsumption more robust.</li>
<li> <tt>thread_sleep/1</tt> now accepts seconds as per draft
standardization proposal.  The <tt>at_exit/1</tt> thread handler has
been changed so that its success, failure, or error doesn't affect the
thread exit status. Finally, a bug in handling exceptions resulting from
thread cancellation using a <tt>throw/1</tt> signal has been fixed.</li>
<li> Made XSB's use of gpp safe for cyclic <tt>#include</tt> statements.</li>
<li> Various fixes for Prolog-based conditional compilation.</li>
<li> Better indexing when loading forest logs.  A new
option, <i>partial logging</i> is now also supported.</li>
<li> <tt>format/[2,3]</tt> changed to better handle escaped characters.</li>
</ul>
</ul>

<h2> Version 3.4 (Soy mILK)</h2> 

<h3> Version 3.4</h3> 
<ul>
<li><b> Enhancements </b></li>
<ul>
<li> A new approach to bounded rationality within tabling,
termed <i>radial restraint</i>, can be used to ensure sound (with
respect to the well-founded semantics) termination of programs even
when they contain function symbols and have infinite models.  Radial
restraint works by abstracting answers that exceed a given depth and
making the truth value for these answers <i>undefined</i>, and can be
declared on a per-predicate basis.  </li>
<li>A new builtin, <tt>u_not/1</tt> assigns the
truth-value <i>undefined</i> to non-ground negative subgoals, rather
than throwing an exception.  In various other cases, such as with
arithmetic computation errors, a goal can optionally be set
to <i>undefined</i> rather than throwing an exception.
</li>
<li> New builtins support better inspection of the state of tables,
even while these tables are being computed.
<ul><li>  <tt>get_incr_sccs_with_deps/[2,3]</tt> produces a Prolog
representation of the dependency graph of incrementally tabled
subgoals, including strongly connected components information and
dependencies among these components.  </li>
<li>A similar predicate, <tt>get_residual_sccs/[3,5]</tt> provides an
analogous view of atoms of the residual program whose truth value
is <i>undefined</i> under the well-founded semantics.  In addition,
the predicate <tt>explain_u_val/2</tt> can be used to explain why an
atom is undefined: because of negative loops, radial restraint, or
some other reason.
</li></li></ul>
<li>Subgoal abstraction is now supported on a per-predicate basis. </li>
<li>Added ISO predicate <tt>halt/1</tt></li>
<li>XSB's ODBC interface now has a predicate to return all available drivers.</li>
</ul>

<li><b> Bug fixes </b></li>
<ul>
<li> A bug was fixed that prevented XSB from properly initializing
when configured with a long path name under Windows.  XSB also
requires less space to start up under Windows than it did
previously.</li>
<li> Various fixes for bugs that occurred when copying into or out of
a table either large answers, or answers with a large number of
variables, or answers with large delay lists.</li>
<li> Various bugs involving attributed variables were fixed: when
delaying the evaluation of tabled predicates via the <i>when</i>
library, and in certain cases where attributed variables occurred in
dynamic code.  Finally, listing now prints out attributed variables
correctly. </li>
<li> Various bugs were fixed that occurred in error handling during
heavily tabled computations, such as when throwing a "maximum subgoal
depth exceeded" exception on very large subgoals, or when throwing
over incomplete incrementally tabled subgoals. Also error handling was
improved when a term to be interned exceeds a maximal user-defined
depth.</li>
<li> Various small bugs were fixed for forest logging. Forest logging
now can print much larger terms than previously, and prints error
terms more concisely. </li>
<li> Several small bugs were fixed for answer subsumption.</li>
<li> XSB's tracing now uses <tt>writeq/2</tt> for easier copy and paste while
tracing; also, a bug was .  fixed when consult (<tt>[]/2</tt>) is
called within XSB's tracing. </li>
<li> Bugs were fixed in <tt>abolish/1</tt>
in <tt>atom_chars/2</tt>, <tt>atom_codes/2</tt> and
in <tt>load_dyn/[1,2]</tt> </li>
</ul>


<h3> Version 3.3.7</h3> 
<ul>
<li><b> Enhancements </b></li>
<ul>
<li>The incremental tabling subsystem have been improved in various
ways.  The subsystem now fully supports handling of conditional
answers (i.e., answers that are undefined in WFS).  Updates of
incremental tables can now be done lazily whenever a tabled subgoal is
re-called: an explicit call to a table update routine is no longer
necessary.  In addition, the XSB API has been restructured to be more
consistent, and several of the API routines have been moved into
C.</li>

<li> XSB's profiler now supports detection of calls that do not
properly use a predicate's indexing.</li>

<li> XSB's forest logging now profiles tabled negation, including
delaying and simplification.  In addition, several new routines have
been implemented that provide in-depth analysis of the logs.

<li>A new XSB flag allows information about incomplete tabled subgoals
and their SCCs to be written to a file upon throwing an exception,
which can aid in debugging.</li>

<li> Several new built-ins have been added.  
<ul>
<li>  <tt>ground_and_acyclic/1</tt> is now available.  
<li>  <tt>check_variant/1</tt> can efficiently check whether the
variant of a goal exists in trie-indexed dynamic predicates.
<li> <tt>find_n/4</tt> acts as <tt>findall/3</tt> but returns only the
first <i>n</i> solutions to a goal.
</ul>

<li> XSB's <tt>table_dump</tt> library now distinguishes between
answers whose truth value is "true" and those whose truth value is
"undefined".

<li>Error handling routines have been improved, especially when
printing out cyclic or large terms.</li>

<li>XSB's configuration now supports compilation with cilk.
</ul>

<li><b> Bug fixes </b></li>
<ul>
<li> On Windows, XSB is automatically configured so that Windows
allocates a larger default call stack, removing a class of
Windows-specific errors.</li>

<li>
A number of bugs have been fixed that together make XSB more robust
for very large and heavily tabled computations.  Among these, XSB
better manages when an exception is thrown over the point of creation
of an incomplete table: previously this could cause a core dump under
certain situations, while now all such situations are detected and
handled properly.  </li>

<li>XSB handles updates to an incremental table that has active choice
points without core-dumping, as it sometimes did in previous
versions.  </li>

<li> <tt>call_cleanup/3</tt> is now properly called when an
exception is thrown over a goal to be cleaned up, or when early
completing a tabled subgoal. </li>

<li>Bugs in cyclic term handling that were present on 32-bit Linux are
now fixed.</li>

<li> Other bug fixes include the following.  There were various fixes
to small bugs in answer subsumption, particularly relating to
compilation.  A fix was made to tabled negation when all conditional
answers to a goal have been removed by simplification.  Handling of
floats by <tt>number_codes/chars</tt> was improved.  A bug
in <tt>get_residual</tt> was fixed, which arose when displaying a
conditional answer with a large number of variables in its delay list.
Finally, a number of small bugs in handling large (boxed) integers have
been fixed.</li>

</ul>


</ul>

<h3> Version 3.3.6</h3> 
<ul>
<li><b>New features</b></li>
<ul>
<li> Call Abstraction is now fully implemented for fixed-order
stratified programs.  The use of call abstraction can ensure
termination for <i>all</i> programs with finite models.</li>

<li> A new flag <tt>unify_with_occurs_check</tt> can be set so that
XSB's core engine performs full unification for all resolution
operations (including tabling).

<li> A new predicate, <tt>timed_call/3</tt>, allows a goal to be
executed and repeatedly interrupted every <i>n</i> milliseconds with a
handler.  During a long computation <tt>timed_call/3</tt> can be used
to repeatedly report on the system state, to dynamically alter
heuristics, or to enforce resource limits (a more specialized
predicate, <tt>bounded_call/[3,4]</tt> is also available.)
</li>

<li> New predicates and evaluable functions have been added to support
the draft ISO core revision including <tt>^/2</tt>,<tt>div/2</tt>,
<tt>xor/2</tt>, <tt>acyclic_term/1</tt>
and <tt>subsumes_term/2</tt>. (XSB already had most, but not all, of
these predicates and functions under non-ISO names.)</li>

<li> Another new flag can be used to limit XSB's memory consumption to
a preset amount.  Using an internally set memory limit, rather than
the system memory limit, can be important when XSB is used with Java
through InterProlog or is embedded into a C or Java program.

<li> Various other new predicates have been added to
XSB.  <tt>print_incomplete_tables/[0,1]</tt> can be used to aid
debugging.  <tt>term_size/2</tt> and <tt>term_size_limit/2</tt>
efficiently determine the size of a term..  The various forms of
the <tt>table_dump</tt> predicate now display the number of calls to a
tabled subgoal along with SCC information for non-completed
subgoals.</li>
</ul>

<li><b> Important bug fixes and enhancements </b></li>
<ul>
<li> Fixed issue where XSB was not being configured correctly for Linux kernels 3.*
</li>
<li> XSB now performs unification of cyclic terms.  In addition, <tt>
tnot/1</tt>, <tt>sk_not/1</tt>, <tt>
abolish_table_call/1</tt>, <tt>atom_chars/2</tt>,
and <tt>atom_codes/2</tt> are now cycle safe.  The
predicate <tt>ground_or_cyclic/1</tt> provides a cycle-safe groundness
check.
</li>
<li> Improved compilation time for files with very large numbers of
predicates.  Improved performance times
for <tt>tnot/1</tt>, <tt>is_<a>cyclic/1</tt>,
and <tt>subsumes_term/2</tt>.
</li>
<li> Added optional depth check for interned tries.  Improved
robustness of exception handling for depth-checks in tables and tries
and for memory-overflow exceptions.  Made exception handling for
several ISO predicates more consistent with ISO specifications.

<li> Profiling is now enabled for 64-bit Windows.
</ul>

</ul>

<h3> Version 3.3.5</h3> 
<ul>
<li> The port of XSB to 64-bit Windows has been hardened so that XSB
can call external C functions, and its configuration process has been
improved.
</li>
<li> The initial version of a new tracing facility for computations,
called <i>forest logging</i> is now available for use.
</li>
<li> A new predicate, called <tt>table_dump/[1,2,3]</tt> allows easy
introspection of XSB's tables.  In addition, new builtins 
<tt>is_cyclic/1</tt> and <tt>term_depth/2</tt> are now available.
</li> 
<li> Configuration of the latest version of XSB on the latest version
of Cygwin is now working again.
</li>
<li> Numerous bug fixes and specialized enhancements, the most
  widespread of which were: Improving the module inferencing used by
  XSB's compiler; improving XSB's exception handling when large
  computations use all available memory; improved messages for term
  depth exceptions; improved compilation times for files/modules with
  a large number of predicates.
</li>
</ul>

<h3> Version 3.3.4</h3> 
<ul>
<li> XSB now includes a Java-based installer for Windows 32- and
64-bits, and for several varieties of Linux.
</li> 
<li> XSB now allows a compiler option indicating that the input file is
canonical, which can improve the speed of compilation of files in
canonical form by 10-20\%.
</li> 
<li> New flags allow users to automatically fail, warn, or throw an
error whenever trying to add to a table an answer whose depth is above
a given threshold.  Separate flags are provided for lists and non-lists.
</li>
<li> Garbage collection time for abolishing tables is now maintained
for statistics.</li>
<li> <tt>load_dyn/[1,2]</tt> can now dynamically load a file into a
module.</li>
<li> Several bug fixes, including the following.  An obscure bug in
handling unsafe variables.  A bug that sometimes occurred when adding
conditional answers with answers in the head but not in the delay
lists.  Arrays used in interning an answer or trie term with a very
large number of variables, are now expanded when necessary. </li>
<li> Minor changes were made to make errors that have to do with
tabling show the actual call that generated the error, rather than
just the predicate.</li>
</li> 


</ul>

<h3> Version 3.3.3</h3> 
<ul>
<li>
XSB is now supported on 64-bit Windows platform, either in 64-bit or
in 32-bit mode under MSVC compilation.  Similar support has been
available for Linux and Mac OS X for several years.  During the
porting process to Windows, several small bugs were fixed for all
64-bit platforms.
</li>
<li>
A new table inspection
predicate <tt>variant_get_residual(Call,DelayList)</tt> can be used to
return (possibly conditional) answers for a table that is a variant
of <tt>Call</tt>
</li>
<li>
Prolog commons libraries are now included with the distribution.
</li>
</ul>

<h3> Version 3.3.2</h3> 
<ul>
<li>
XSB and its packages are now significantly easier to compile on
Windows using the MSVC compiler.
</li>
<li>
Fix to allow XSB to be compiled on the Mac with very recent changes to
 Apple's xcode.  These xcode changes broke backwards compatibility!
</li>
<li> Fix for recently introduced bug that broke XSB embedability into
C programs on Linux.  In addition a fix allows XSB to exit cleanly in
32-bit Linux when tagged address space has been exceeded.
</li>
<li>
<tt> url_encode/2 </tt> and <tt> url_decode/2</tt> are now standard predicates.
</li>
<li>A queryable trace log facility is now available do aid debugging.
<li>
Minor bug fixes and enhancements: 
<ul>
<li>Fixed core dump that arose from poor error handling when
univ was called using a list whose length was greater
than <tt>MAX_ARITY.</tt>
</li>
<li>
Simplification stack is now dynamically expandable (this should only
affect programs that make extremely heavy use of well-founded
negation).
</li>
<li><tt>pretty_print/2</tt> now implemented to pretty print to a stream.</li>
</li>
<li>
XSB now treats <tt>0'\s</tt> as a space to improve compatibility with
some other Prologs.
</li>
<li>
Patch level added into the Prolog commons flag <tt> version_data</tt>;
patch date is now a part of the XSB banner.
</li>
</ul>
</ul>

<h3> Version 3.3.1</h3> 
<ul>
<li>
Bug fixes for incremental tabling that arose when explicitly
 abolishing invalidated incremental tables.  Inclusion of information
 about incremental tables in statistics when relevant.
</li>
</ul>

<h3> Version 3.3.0</h3> 
<ul>
<li>
Bug fixe for incremental tabling when evaluating programs with tabled
negation.
</li>
<li>
Fix for bug under 32-bit Linuxes when allocating very large chunks of
memory.
</li>
<li>
Inclusion of number of SCCs of non-completed tabled subgoals into
XSB's statistics.
</li>
<li>
Fix in proc_files library for loading csv files into Prolog predicates.
</li>
<li>
Fixes for various bugs when using CLP(R) with tabling.  Update of
CLP(R) package to include newest changes from SWI repository.  Changes
to CLP(R) package to allow a smaller, and user-defined epsilon.
</li>
<li>
Changes to attribute API to make this XSB's API similar to that of SWI
and YAP (and perhaps others).  Made term_variables/2 standard as it is
in other Prologs.
</li>
</ul>



<hr>
<address>Email: <a href="mailto:xsb-users@lists.sourceforge.net" >xsb-users@lists.sourceforge.net</a></address>
<!-- hhmts start -->Last modified: $Id: changelog.html,v 1.13 2013-05-02 20:29:45 tswift Exp $ <!-- hhmts end -->
</body> </html>
